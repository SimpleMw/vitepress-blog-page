import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.8153c8a6.js";const F=JSON.parse('{"title":"日期时间 LocalDateTime","description":"","frontmatter":{"title":"日期时间 LocalDateTime","date":"2020-12-02T13:25:25.000Z","updated":"2021-09-15T10:00:00.000Z","category":"java基础相关","tag":"java","top_img":false},"headers":[],"relativePath":"guide/javabasic/LocalDateTime.md","filePath":"guide/javabasic/LocalDateTime.md"}'),o={name:"guide/javabasic/LocalDateTime.md"},p=l(`<p>场景：</p><p>SimpleDateFormat 的format和parse方法是线程不安全的</p><p>LocalDateTime、LocalDate、LocalTime</p><h5 id="创建" tabindex="-1">创建 <a class="header-anchor" href="#创建" aria-label="Permalink to &quot;创建&quot;">​</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">//创建当前日期</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalDate localDate </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDate.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#6A737D;">//创建当前时间</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalTime localTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalTime.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#6A737D;">//创建当前日期时间</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalDateTime localDateTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDateTime.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//构造日期</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalDate localDate1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDate.</span><span style="color:#B392F0;">of</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2020</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">12</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#6A737D;">//构造时间</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalTime localTime1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalTime.</span><span style="color:#B392F0;">of</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">9</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#6A737D;">//构造日期时间</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalDateTime localDateTime1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDateTime.</span><span style="color:#B392F0;">of</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2020</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">12</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">13</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">14</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#6A737D;">//根据构造日期和构造时间合成日期时间</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalDateTime localDateTime2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDateTime.</span><span style="color:#B392F0;">of</span><span style="color:#E1E4E8;">(localDate1,localTime1);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//创建当前日期</span></span>
<span class="line"><span style="color:#24292E;">LocalDate localDate </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDate.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">//创建当前时间</span></span>
<span class="line"><span style="color:#24292E;">LocalTime localTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalTime.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">//创建当前日期时间</span></span>
<span class="line"><span style="color:#24292E;">LocalDateTime localDateTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDateTime.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//构造日期</span></span>
<span class="line"><span style="color:#24292E;">LocalDate localDate1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDate.</span><span style="color:#6F42C1;">of</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2020</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">12</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#6A737D;">//构造时间</span></span>
<span class="line"><span style="color:#24292E;">LocalTime localTime1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalTime.</span><span style="color:#6F42C1;">of</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">9</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">15</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#6A737D;">//构造日期时间</span></span>
<span class="line"><span style="color:#24292E;">LocalDateTime localDateTime1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDateTime.</span><span style="color:#6F42C1;">of</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2020</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">12</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">13</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">14</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#6A737D;">//根据构造日期和构造时间合成日期时间</span></span>
<span class="line"><span style="color:#24292E;">LocalDateTime localDateTime2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDateTime.</span><span style="color:#6F42C1;">of</span><span style="color:#24292E;">(localDate1,localTime1);</span></span></code></pre></div><h5 id="格式转换" tabindex="-1">格式转换 <a class="header-anchor" href="#格式转换" aria-label="Permalink to &quot;格式转换&quot;">​</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">LocalDateTime localDateTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDateTime.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#6A737D;">//格式化日期时间 使用LocalDateTime的标准样式转字符串</span></span>
<span class="line"><span style="color:#E1E4E8;">String str1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> localDateTime.</span><span style="color:#B392F0;">format</span><span style="color:#E1E4E8;">(DateTimeFormatter.ISO_LOCAL_DATE_TIME);</span></span>
<span class="line"><span style="color:#E1E4E8;">System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(str1);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//指定格式格式化 LocalDateTime转字符串</span></span>
<span class="line"><span style="color:#E1E4E8;">DateTimeFormatter dateTimeFormatter </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> DateTimeFormatter.</span><span style="color:#B392F0;">ofPattern</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;yyyy.MM.dd HH:mm:ss&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">String str2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> dateTimeFormatter.</span><span style="color:#B392F0;">format</span><span style="color:#E1E4E8;">(localDateTime);</span></span>
<span class="line"><span style="color:#E1E4E8;">System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(str2);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//指定时间格式解析时间 字符串转LocalDateTime</span></span>
<span class="line"><span style="color:#E1E4E8;">String str </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;2020.05.12 13:14:00&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalDateTime dateTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDateTime.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(str, dateTimeFormatter);</span></span>
<span class="line"><span style="color:#E1E4E8;">System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(dateTime);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">LocalDateTime localDateTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDateTime.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">//格式化日期时间 使用LocalDateTime的标准样式转字符串</span></span>
<span class="line"><span style="color:#24292E;">String str1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> localDateTime.</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(DateTimeFormatter.ISO_LOCAL_DATE_TIME);</span></span>
<span class="line"><span style="color:#24292E;">System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(str1);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//指定格式格式化 LocalDateTime转字符串</span></span>
<span class="line"><span style="color:#24292E;">DateTimeFormatter dateTimeFormatter </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> DateTimeFormatter.</span><span style="color:#6F42C1;">ofPattern</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;yyyy.MM.dd HH:mm:ss&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">String str2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> dateTimeFormatter.</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(localDateTime);</span></span>
<span class="line"><span style="color:#24292E;">System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(str2);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//指定时间格式解析时间 字符串转LocalDateTime</span></span>
<span class="line"><span style="color:#24292E;">String str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;2020.05.12 13:14:00&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">LocalDateTime dateTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDateTime.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(str, dateTimeFormatter);</span></span>
<span class="line"><span style="color:#24292E;">System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(dateTime);</span></span></code></pre></div><h5 id="获取年月日时分秒" tabindex="-1">获取年月日时分秒 <a class="header-anchor" href="#获取年月日时分秒" aria-label="Permalink to &quot;获取年月日时分秒&quot;">​</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">//获取年月日时分秒</span></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> year </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> dateTime.</span><span style="color:#B392F0;">getYear</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">Month month </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> dateTime.</span><span style="color:#B392F0;">getMonth</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> day </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> dateTime.</span><span style="color:#B392F0;">getDayOfMonth</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> hour </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> dateTime.</span><span style="color:#B392F0;">getHour</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> minute </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> dateTime.</span><span style="color:#B392F0;">getMinute</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> second </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> dateTime.</span><span style="color:#B392F0;">getSecond</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;年：&quot;</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">year</span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;">&quot; 月：&quot;</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">month</span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;">&quot; 日：&quot;</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">day</span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;">&quot; 时：&quot;</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">hour</span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;">&quot; 分：&quot;</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">minute</span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;">&quot; 秒：&quot;</span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;">second);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//获取年月日时分秒</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> year </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> dateTime.</span><span style="color:#6F42C1;">getYear</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">Month month </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> dateTime.</span><span style="color:#6F42C1;">getMonth</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> day </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> dateTime.</span><span style="color:#6F42C1;">getDayOfMonth</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> hour </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> dateTime.</span><span style="color:#6F42C1;">getHour</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> minute </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> dateTime.</span><span style="color:#6F42C1;">getMinute</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> second </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> dateTime.</span><span style="color:#6F42C1;">getSecond</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;年：&quot;</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">year</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&quot; 月：&quot;</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">month</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&quot; 日：&quot;</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">day</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&quot; 时：&quot;</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">hour</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&quot; 分：&quot;</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">minute</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&quot; 秒：&quot;</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">second);</span></span></code></pre></div><h5 id="localdatetime转date" tabindex="-1">LocalDateTime转Date <a class="header-anchor" href="#localdatetime转date" aria-label="Permalink to &quot;LocalDateTime转Date&quot;">​</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">LocalDateTime localDateTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDateTime.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">Date date </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Date.</span><span style="color:#B392F0;">from</span><span style="color:#E1E4E8;">(localDateTime.</span><span style="color:#B392F0;">atZone</span><span style="color:#E1E4E8;">(ZoneId.</span><span style="color:#B392F0;">systemDefault</span><span style="color:#E1E4E8;">()).</span><span style="color:#B392F0;">toInstant</span><span style="color:#E1E4E8;">());</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">LocalDateTime localDateTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDateTime.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">Date date </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Date.</span><span style="color:#6F42C1;">from</span><span style="color:#24292E;">(localDateTime.</span><span style="color:#6F42C1;">atZone</span><span style="color:#24292E;">(ZoneId.</span><span style="color:#6F42C1;">systemDefault</span><span style="color:#24292E;">()).</span><span style="color:#6F42C1;">toInstant</span><span style="color:#24292E;">());</span></span></code></pre></div><h5 id="date转localdatetime" tabindex="-1">Date转LocalDateTime <a class="header-anchor" href="#date转localdatetime" aria-label="Permalink to &quot;Date转LocalDateTime&quot;">​</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">Date date </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Date</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalDateTime ldt </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> date.</span><span style="color:#B392F0;">toInstant</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">        .</span><span style="color:#B392F0;">atZone</span><span style="color:#E1E4E8;">(ZoneId.</span><span style="color:#B392F0;">systemDefault</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">        .</span><span style="color:#B392F0;">toLocalDateTime</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">Date date </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">LocalDateTime ldt </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> date.</span><span style="color:#6F42C1;">toInstant</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">atZone</span><span style="color:#24292E;">(ZoneId.</span><span style="color:#6F42C1;">systemDefault</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">toLocalDateTime</span><span style="color:#24292E;">();</span></span></code></pre></div>`,13),e=[p];function t(c,r,y,E,i,m){return a(),n("div",null,e)}const d=s(o,[["render",t]]);export{F as __pageData,d as default};
